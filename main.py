from dotenv import load_dotenv
from langchain_core.prompts import PromptTemplate
from langchain_ollama import ChatOllama

load_dotenv()

def main():
    print("Hello from langchain-course!")
    infromation = """
    ابن تيمية: سيرته وفكره وتأثيره في الفكر الإسلامي

يُعَدّ تقي الدين أحمد بن عبد الحليم بن عبد السلام بن عبد الله بن أبي القاسم بن محمد بن تيمية الحرّاني الدمشقي (661هـ – 728هـ / 1263م – 1328م) أحد أبرز العلماء والمفكرين في التاريخ الإسلامي الوسيط. اشتهر بذكائه الحاد، وقوة حجته، وسعة علمه، وتأثيره الكبير في مجالات العقيدة والفقه والفكر الإصلاحي.

مولده ونشأته

وُلد ابن تيمية في مدينة حرّان التابعة لمنطقة الجزيرة الفراتية (في تركيا الحالية)، في أسرة علمية مشهورة بالعلم والفقه. اضطر مع أسرته إلى الانتقال إلى دمشق عام 667هـ بعد اجتياح التتار لحرّان، وهناك نشأ في بيئة علمية خصبة، فتعلّم القرآن والحديث والفقه والأصول واللغة العربية، وأبدى نبوغًا مبكرًا جعله محل إعجاب العلماء في صغره.

تعليمه وشيوخه

درس ابن تيمية على يد كبار علماء دمشق في عصره، ومن أبرزهم:

والده عبد الحليم بن تيمية، أحد علماء الحنابلة المعروفين.

شمس الدين المقدسي، في الحديث والفقه.

الكمال بن عبد وابن عبد الدايم في علوم الرواية والحديث.

كما أخذ علوم اللغة والنحو عن ابن مالك صاحب الألفية.

حفظ القرآن صغيرًا، ودرس كتب الفقه الحنبلي ثم توسّع في المذاهب الأخرى، فصار فقيهًا مقارنًا يوازن بين الآراء بالأدلة، لا بالتقليد.

منهجه الفكري

تميّز ابن تيمية بمنهج علمي يقوم على الرجوع إلى الكتاب والسنة، ونبذ التقليد الأعمى للمذاهب. دعا إلى تنقية العقيدة من البدع والخرافات، وإلى العودة إلى منهج السلف الصالح في فهم الدين.
وكان من أوائل من نادى بفكرة الإصلاح الديني والفكري من داخل الأمة، فتصدى للمظاهر التي رآها انحرافًا عن الدين الصحيح، مثل الغلو في الصالحين، والتوسل غير المشروع، والتصوف المنحرف.

كما تميّز فكره بالعقلانية والانفتاح في الحوار، فكان يوازن بين النقل والعقل، ويرى أن العقل الصريح لا يمكن أن يتعارض مع النقل الصحيح.

مؤلفاته

ترك ابن تيمية تراثًا علميًا ضخمًا، يُقدّر بما يزيد عن 500 مجلد في مختلف العلوم. ومن أشهر مؤلفاته:

مجموع الفتاوى: وهو أضخم أعماله، يضم آراءه في العقيدة والفقه والسياسة والاجتماع.

درء تعارض العقل والنقل: من أهم كتبه في العقيدة والفلسفة، يثبت فيه أن العقل الصريح لا يتناقض مع الوحي.

منهاج السنة النبوية: ردّ فيه على كتاب منهاج الكرامة للعلامة الحلي، ودافع فيه عن منهج أهل السنة والجماعة.

اقتضاء الصراط المستقيم لمخالفة أصحاب الجحيم: بحث فيه مسألة التشبّه بغير المسلمين.

الرد على البكري والرد على المنطقيين والسياسة الشرعية في إصلاح الراعي والرعية، وغيرها من الكتب التي تدل على سعة علمه واهتمامه بالقضايا الفكرية والاجتماعية والسياسية.

مواقفه السياسية والجهادية

لم يكن ابن تيمية عالمًا منعزلًا عن مجتمعه، بل كان ناشطًا سياسيًا ومجاهدًا. وقف موقفًا بطوليًا في وجه التتار، وأفتى بوجوب الجهاد ضدهم رغم إعلانهم الإسلام، لأنهم لم يلتزموا بأحكام الشريعة. وشارك بنفسه في المعارك، منها معركة شقحب سنة 702هـ.
كما واجه السلطة أحيانًا بسبب مواقفه الجريئة، فسُجن عدة مرات في القاهرة والإسكندرية ودمشق، بسبب آرائه المخالفة للمألوف، خاصة في مسائل العقيدة والفقه.

خصوماته الفكرية

دخل ابن تيمية في مناظرات علمية عديدة مع علماء عصره، خاصة الأشاعرة والصوفية والفلاسفة، وكان يردّ على خصومه بالحجة والبرهان، مما جعله يُحاط أحيانًا بسوء الفهم والخصومة، لكنه ظل متمسكًا بمبادئه حتى وفاته.

وفاته

توفي ابن تيمية في سجن القلعة بدمشق سنة 728هـ بعد أن أمضى سنواته الأخيرة في الحبس بسبب فتاواه الجريئة، خصوصًا المتعلقة بزيارة القبور. وشيّع جنازته عشرات الآلاف من الناس، في مشهد مهيب يعكس مكانته في قلوب العامة والعلماء على حد سواء.
 """

    information_prompt = PromptTemplate(
        input_variables=["information"],
        template="""
        Give me the following information about the following person:
        {information}
        1. What is the person's name?
        2. What is the person's age?
        3. What is the person's occupation?
        4. What is the person's current position?
        5. What is the person's main achievements?
        6. What is the person's main challenges?
        7. What is the person's main goals?
        8. What is the person's main challenges?
        9. What is the person's main goals?
        Respond in Arabic.
        """
    )

    llm = ChatOllama(temperature=0, model="gpt-oss:20b")
    chain = information_prompt | llm
    response = chain.invoke({"information": infromation})
    print(response.content)

if __name__ == "__main__":
    main()
